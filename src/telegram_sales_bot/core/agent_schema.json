{
  "type": "object",
  "properties": {
    "action": {
      "type": "string",
      "enum": ["reply", "wait", "check_availability", "schedule", "schedule_followup", "escalate"],
      "description": "The action to take"
    },
    "message": {
      "type": "string",
      "description": "Message text to send to client (required for reply and schedule_followup)"
    },
    "reason": {
      "type": "string",
      "description": "Brief explanation of decision"
    },
    "scheduling_data": {
      "type": "object",
      "properties": {
        "slot_id": {
          "type": "string",
          "description": "Slot ID in format YYYYMMDD_HHMM (for schedule action)"
        },
        "email": {
          "type": "string",
          "description": "Client email for Zoom meeting invitation"
        },
        "preferred_time": {
          "type": "string",
          "description": "Client's preferred time in HH:MM format (for check_availability when client named a specific time)"
        },
        "preferred_date": {
          "type": "string",
          "description": "Client's preferred date in YYYY-MM-DD format (for check_availability when client named a specific date)"
        },
        "client_timezone": {
          "type": "string",
          "description": "Client's timezone as IANA string e.g. Europe/Warsaw (for check_availability with specific time)"
        },
        "follow_up_time": {
          "type": "string",
          "description": "ISO 8601 datetime for follow-up (for schedule_followup action)"
        },
        "follow_up_intent": {
          "type": "string",
          "description": "Brief description of what to follow up about"
        }
      }
    }
  },
  "required": ["action", "reason"]
}
